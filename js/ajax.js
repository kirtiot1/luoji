function Ajax(obj){var defInfo={url:"",type:"get",async:!0,data:"",datatype:"string",success:function(){},error:function(){}},key;if(!obj.url)throw new Error("没有请求地址");for(key in obj)defInfo[key]=obj[key];var xhr=new XMLHttpRequest;defInfo.data?"get"==defInfo.type.toLowerCase()?(xhr.open(defInfo.type,defInfo.url+"?"+defInfo.data,defInfo.async),xhr.send()):(xhr.open(defInfo.type,defInfo.url,defInfo.async),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send(defInfo.data)):(xhr.open(defInfo.type,defInfo.url,defInfo.async),xhr.send()),xhr.onreadystatechange=function(){var txt,txt;4==xhr.readyState&&(200==xhr.status?"json"==defInfo.datatype?(txt=xhr.responseText,defInfo.success(eval("("+txt+")"))):(txt=xhr.responseText,defInfo.success(txt)):defInfo.error(xhr.status))}}function PromiseAjax(obj){return new Promise((res,rej)=>{var defInfo={url:"",type:"get",async:!0,data:"",datatype:"string",success:function(){},error:function(){}},key;if(!obj.url)throw new Error("没有请求地址");for(key in obj)defInfo[key]=obj[key];var xhr=new XMLHttpRequest;defInfo.data?"get"==defInfo.type.toLowerCase()?(xhr.open(defInfo.type,defInfo.url+"?"+defInfo.data,defInfo.async),xhr.send()):(xhr.open(defInfo.type,defInfo.url,defInfo.async),xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send(defInfo.data)):(xhr.open(defInfo.type,defInfo.url,defInfo.async),xhr.send()),xhr.onreadystatechange=function(){var txt,txt;4==xhr.readyState&&(200==xhr.status?"json"==defInfo.datatype?(txt=xhr.responseText,res(eval("("+txt+")"))):(txt=xhr.responseText,res(txt)):rej(xhr.status))}})}